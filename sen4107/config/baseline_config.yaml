# Baseline CNN Model Configuration
# Turkish Speech Emotion Recognition
# SEN4107 Course Project

# Model Architecture
model:
  name: "baseline_cnn"
  type: "cnn"
  num_classes: 7
  input_channels: 1
  dropout_rate: 0.3

# Feature Extraction
features:
  type: "mel"  # Options: 'mel' or 'mfcc'
  sr: 16000  # Sampling rate in Hz
  n_mels: 128  # Number of mel frequency bands
  n_fft: 2048  # FFT window size
  hop_length: 512  # Hop length between frames
  target_length: 256  # Target number of time steps
  normalize: true  # Apply z-score normalization

# Dataset
data:
  data_dir: "data/turkish_emotions"  # Path to dataset
  train_ratio: 0.7
  val_ratio: 0.15
  test_ratio: 0.15
  random_seed: 42
  stratify: false  # Disable stratification for small datasets
  
  # Emotion mapping (Turkish)
  emotion_map:
    mutlu: 0      # happy
    uzgun: 1      # sad
    kizgin: 2     # angry
    notr: 3       # neutral
    korku: 4      # fear
    saskin: 5     # surprised
    igrenme: 6    # disgust

# Training Hyperparameters
training:
  batch_size: 32
  num_epochs: 100
  learning_rate: 0.001
  weight_decay: 0.0001  # L2 regularization
  
  # Optimizer
  optimizer:
    type: "adam"  # Options: 'adam', 'sgd', 'adamw'
    betas: [0.9, 0.999]
    eps: 0.00000001
  
  # Learning Rate Scheduler
  scheduler:
    type: "reduce_on_plateau"  # Options: 'reduce_on_plateau', 'cosine', 'step'
    mode: "min"
    factor: 0.5
    patience: 10
    min_lr: 0.000001
  
  # Loss Function
  loss:
    type: "cross_entropy"  # Standard for classification
    label_smoothing: 0.1  # Smoothing to prevent overconfidence
  
  # Early Stopping
  early_stopping:
    enabled: true
    patience: 20
    min_delta: 0.000001  # Minimum improvement to count as progress
  
  # Data Augmentation
  augmentation:
    enabled: true
    noise_factor: 0.005  # White noise augmentation

# Validation & Evaluation
validation:
  eval_every: 1  # Evaluate every N epochs
  save_best: true  # Save model with best validation accuracy
  metrics:
    - accuracy
    - macro_f1
    - confusion_matrix

# Checkpointing
checkpoints:
  save_dir: "checkpoints/baseline_cnn"
  save_every: 10  # Save checkpoint every N epochs
  keep_last: 3  # Keep only last N checkpoints

# Logging
logging:
  log_dir: "logs/baseline_cnn"
  tensorboard: true
  log_interval: 10  # Log every N batches
  save_plots: true

# Hardware
hardware:
  device: "cuda"  # Options: 'cuda', 'cpu', 'mps'
  num_workers: 0  # Number of data loader workers (0 = no multiprocessing, better for Windows)
  pin_memory: true  # Pin memory for faster GPU transfer

# Reproducibility
seed: 42
deterministic: true
